<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S32 SDK: Power Manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top" style="height:auto; width:100%"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <img id="projectlogo" style="height:auto; width:100%" alt="Logo" src="s32sdk_logo_small.jpg"/>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__power__manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Power Manager</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The S32 SDK Power Manager provides a set of API/services that enables applications to configure and select among various operational and low power modes. </p>
<h2>Driver consideration</h2>
<p>The Power Manager driver is developed on top of an appropriate hardware access layer (SMC, MC_ME etc). The Power Manager provides API to handle the device power modes. It also supports run-time switching between multiple power modes. Each power mode is described by configuration structures with multiple power-related options. The Power Manager provides a notification mechanism for registered callbacks and API for static and dynamic callback registration.</p>
<p>The Driver uses structures for configuration. The actual format of the structure is defined by the underlying device specific header file. There is a power mode and a callback configuration structure. These structures may be generated using Processor Expert. The user application can use the default for most settings, changing only what is necessary.</p>
<p>This driver provides functions for initializing power manager and changing the power mode.</p>
<p>All methods that access the hardware layer will return an error code to signal if the operation succeeded or failed. The values are defined by the status_t enumeration, and the possible values include: success, switch error, callback notification errors, wrong clock setup error. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__power__manager__s32k1xx"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager__s32k1xx.html">Power Manager Driver</a></td></tr>
<tr class="memdesc:group__power__manager__s32k1xx"><td class="mdescLeft">&#160;</td><td class="mdescRight">This module covers the device-specific clock_manager functionality implemented for S32K1xx and S32MTV SOC. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__power__s32k1xx"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__s32k1xx.html">Power_s32k1xx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpower__manager__notify__struct__t.html">power_manager_notify_struct_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power mode user configuration structure.  <a href="structpower__manager__notify__struct__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpower__manager__callback__user__config__t.html">power_manager_callback_user_config_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">callback configuration structure  <a href="structpower__manager__callback__user__config__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpower__manager__state__t.html">power_manager_state_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power manager internal state structure.  <a href="structpower__manager__state__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf425e2ead1248e49133d9cb0b733f5e5"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#gaf425e2ead1248e49133d9cb0b733f5e5">power_manager_callback_data_t</a></td></tr>
<tr class="memdesc:gaf425e2ead1248e49133d9cb0b733f5e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback-specific data.  <a href="#gaf425e2ead1248e49133d9cb0b733f5e5">More...</a><br /></td></tr>
<tr class="separator:gaf425e2ead1248e49133d9cb0b733f5e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01d66c9bad9b173051310253b86f8da8"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga01d66c9bad9b173051310253b86f8da8">power_manager_callback_t</a>) (<a class="el" href="structpower__manager__notify__struct__t.html">power_manager_notify_struct_t</a> *notify, <a class="el" href="group__power__manager.html#gaf425e2ead1248e49133d9cb0b733f5e5">power_manager_callback_data_t</a> *dataPtr)</td></tr>
<tr class="memdesc:ga01d66c9bad9b173051310253b86f8da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback prototype.  <a href="#ga01d66c9bad9b173051310253b86f8da8">More...</a><br /></td></tr>
<tr class="separator:ga01d66c9bad9b173051310253b86f8da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga557e8588368b90f97ba0a6fff173a447"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga557e8588368b90f97ba0a6fff173a447">power_manager_policy_t</a> { <a class="el" href="group__power__manager.html#gga557e8588368b90f97ba0a6fff173a447a9cc001b4b0a7f1a22e30ba9088222ffb">POWER_MANAGER_POLICY_AGREEMENT</a>,
<a class="el" href="group__power__manager.html#gga557e8588368b90f97ba0a6fff173a447a52a276adc5bc52ba5e3cfd84c2e4a29a">POWER_MANAGER_POLICY_FORCIBLE</a>
 }<tr class="memdesc:ga557e8588368b90f97ba0a6fff173a447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power manager policies.  <a href="group__power__manager.html#ga557e8588368b90f97ba0a6fff173a447">More...</a><br /></td></tr>
<tr class="separator:ga557e8588368b90f97ba0a6fff173a447"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga150eda9990d1b0b14efd77e91ddce899"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga150eda9990d1b0b14efd77e91ddce899">power_manager_notify_t</a> { <a class="el" href="group__power__manager.html#gga150eda9990d1b0b14efd77e91ddce899ae0b48b801a356174ecc853c6d31da3ea">POWER_MANAGER_NOTIFY_RECOVER</a> = 0x00U,
<a class="el" href="group__power__manager.html#gga150eda9990d1b0b14efd77e91ddce899a382efec09e5e8d0f9d2059c96d0b57eb">POWER_MANAGER_NOTIFY_BEFORE</a> = 0x01U,
<a class="el" href="group__power__manager.html#gga150eda9990d1b0b14efd77e91ddce899a7b71b4e39d3cf652d254180e7f1e6213">POWER_MANAGER_NOTIFY_AFTER</a> = 0x02U
 }<tr class="memdesc:ga150eda9990d1b0b14efd77e91ddce899"><td class="mdescLeft">&#160;</td><td class="mdescRight">The PM notification type. Used to notify registered callbacks. Callback notifications can be invoked in following situations:  <a href="group__power__manager.html#ga150eda9990d1b0b14efd77e91ddce899">More...</a><br /></td></tr>
<tr class="separator:ga150eda9990d1b0b14efd77e91ddce899"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:ga63bea534f09850d600e1bce7f76dcd1b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga63bea534f09850d600e1bce7f76dcd1b">power_manager_callback_type_t</a> { <a class="el" href="group__power__manager.html#gga63bea534f09850d600e1bce7f76dcd1bae483dcc0af3d153663de57a6c95c8703">POWER_MANAGER_CALLBACK_BEFORE</a> = 0x01U,
<a class="el" href="group__power__manager.html#gga63bea534f09850d600e1bce7f76dcd1ba88e55317b173978beac7a34beab4276b">POWER_MANAGER_CALLBACK_AFTER</a> = 0x02U,
<a class="el" href="group__power__manager.html#gga63bea534f09850d600e1bce7f76dcd1ba3874b6d9558d4503fb8d4ddc861e9838">POWER_MANAGER_CALLBACK_BEFORE_AFTER</a> = 0x03U
 }<tr class="memdesc:ga63bea534f09850d600e1bce7f76dcd1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The callback type indicates when a callback will be invoked.  <a href="group__power__manager.html#ga63bea534f09850d600e1bce7f76dcd1b">More...</a><br /></td></tr>
<tr class="separator:ga63bea534f09850d600e1bce7f76dcd1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga85f9813bd7b94c5a81d7f3c050960230"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga85f9813bd7b94c5a81d7f3c050960230">POWER_SYS_Init</a> (<a class="el" href="structpower__manager__user__config__t.html">power_manager_user_config_t</a> *(*powerConfigsPtr)[], uint8_t configsNumber, <a class="el" href="structpower__manager__callback__user__config__t.html">power_manager_callback_user_config_t</a> *(*callbacksPtr)[], uint8_t callbacksNumber)</td></tr>
<tr class="memdesc:ga85f9813bd7b94c5a81d7f3c050960230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power manager initialization for operation.  <a href="#ga85f9813bd7b94c5a81d7f3c050960230">More...</a><br /></td></tr>
<tr class="separator:ga85f9813bd7b94c5a81d7f3c050960230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bbe25041555ebefe4356fad8967f8c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga6bbe25041555ebefe4356fad8967f8c9">POWER_SYS_Deinit</a> (void)</td></tr>
<tr class="memdesc:ga6bbe25041555ebefe4356fad8967f8c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function deinitializes the Power manager.  <a href="#ga6bbe25041555ebefe4356fad8967f8c9">More...</a><br /></td></tr>
<tr class="separator:ga6bbe25041555ebefe4356fad8967f8c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80453a80475225741b47ed43d3e6c50e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e">POWER_SYS_SetMode</a> (uint8_t powerModeIndex, <a class="el" href="group__power__manager.html#ga557e8588368b90f97ba0a6fff173a447">power_manager_policy_t</a> policy)</td></tr>
<tr class="memdesc:ga80453a80475225741b47ed43d3e6c50e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function configures the power mode.  <a href="#ga80453a80475225741b47ed43d3e6c50e">More...</a><br /></td></tr>
<tr class="separator:ga80453a80475225741b47ed43d3e6c50e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad87fea8bc9e1804540a3716635c21811"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#gad87fea8bc9e1804540a3716635c21811">POWER_SYS_GetLastMode</a> (uint8_t *powerModeIndexPtr)</td></tr>
<tr class="memdesc:gad87fea8bc9e1804540a3716635c21811"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the last successfully set power mode.  <a href="#gad87fea8bc9e1804540a3716635c21811">More...</a><br /></td></tr>
<tr class="separator:gad87fea8bc9e1804540a3716635c21811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24e986811cca0fc7bb49e50fbb5204ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga24e986811cca0fc7bb49e50fbb5204ed">POWER_SYS_GetLastModeConfig</a> (<a class="el" href="structpower__manager__user__config__t.html">power_manager_user_config_t</a> **powerModePtr)</td></tr>
<tr class="memdesc:ga24e986811cca0fc7bb49e50fbb5204ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the user configuration structure of the last successfully set power mode.  <a href="#ga24e986811cca0fc7bb49e50fbb5204ed">More...</a><br /></td></tr>
<tr class="separator:ga24e986811cca0fc7bb49e50fbb5204ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac245cfec6a01ec9b4489b2eb07deadca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__power__s32k1xx.html#ga307c693b6f883df898b9210262755d40">power_manager_modes_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#gac245cfec6a01ec9b4489b2eb07deadca">POWER_SYS_GetCurrentMode</a> (void)</td></tr>
<tr class="memdesc:gac245cfec6a01ec9b4489b2eb07deadca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns currently running power mode.  <a href="#gac245cfec6a01ec9b4489b2eb07deadca">More...</a><br /></td></tr>
<tr class="separator:gac245cfec6a01ec9b4489b2eb07deadca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1941964ad0c7ea423d3dabcf08e10c84"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga1941964ad0c7ea423d3dabcf08e10c84">POWER_SYS_GetErrorCallbackIndex</a> (void)</td></tr>
<tr class="memdesc:ga1941964ad0c7ea423d3dabcf08e10c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the last failed notification callback.  <a href="#ga1941964ad0c7ea423d3dabcf08e10c84">More...</a><br /></td></tr>
<tr class="separator:ga1941964ad0c7ea423d3dabcf08e10c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1098b7d274060d5732d51c3dfebe99b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpower__manager__callback__user__config__t.html">power_manager_callback_user_config_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__power__manager.html#ga1098b7d274060d5732d51c3dfebe99b9">POWER_SYS_GetErrorCallback</a> (void)</td></tr>
<tr class="memdesc:ga1098b7d274060d5732d51c3dfebe99b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the callback configuration structure for the last failed notification.  <a href="#ga1098b7d274060d5732d51c3dfebe99b9">More...</a><br /></td></tr>
<tr class="separator:ga1098b7d274060d5732d51c3dfebe99b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaf425e2ead1248e49133d9cb0b733f5e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void <a class="el" href="group__power__manager.html#gaf425e2ead1248e49133d9cb0b733f5e5">power_manager_callback_data_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback-specific data. </p>
<p>Pointer to data of this type is passed during callback registration. The pointer is part of the <a class="el" href="structpower__manager__callback__user__config__t.html" title="callback configuration structure ">power_manager_callback_user_config_t</a> structure and is passed to the callback during power mode change notifications. Implements power_manager_callback_data_t_Class </p>

<p>Definition at line <a class="el" href="power__manager_8h_source.html#l00118">118</a> of file <a class="el" href="power__manager_8h_source.html">power_manager.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga01d66c9bad9b173051310253b86f8da8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a>(*  power_manager_callback_t) (<a class="el" href="structpower__manager__notify__struct__t.html">power_manager_notify_struct_t</a> *notify, <a class="el" href="group__power__manager.html#gaf425e2ead1248e49133d9cb0b733f5e5">power_manager_callback_data_t</a> *dataPtr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback prototype. </p>
<p>Declaration of callback. It is common for all registered callbacks. Function pointer of this type is part of <a class="el" href="structpower__manager__callback__user__config__t.html" title="callback configuration structure ">power_manager_callback_user_config_t</a> callback configuration structure. Depending on the callback type, the callback function is invoked during power mode change (see <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a>) before the mode change, after it, or in both cases to notify about the change progress (see power_manager_callback_type_t). When called, the type of the notification is passed as parameter along with a pointer to power mode configuration structure (see <a class="el" href="structpower__manager__notify__struct__t.html" title="Power mode user configuration structure. ">power_manager_notify_struct_t</a>) and any data passed during the callback registration (see power_manager_callback_data_t). When notified before a mode change, depending on the power mode change policy (see power_manager_policy_t) the callback may deny the mode change by returning any error code other than STATUS_SUCCESS (see <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">notify</td><td>Notification structure. </td></tr>
    <tr><td class="paramname">dataPtr</td><td>Callback data. Pointer to the data passed during callback registration. Intended to pass any driver or application data such as internal state information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or STATUS_SUCCESS. Implements power_manager_callback_t_Class </dd></dl>

<p>Definition at line <a class="el" href="power__manager_8h_source.html#l00172">172</a> of file <a class="el" href="power__manager_8h_source.html">power_manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga63bea534f09850d600e1bce7f76dcd1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__power__manager.html#ga63bea534f09850d600e1bce7f76dcd1b">power_manager_callback_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The callback type indicates when a callback will be invoked. </p>
<p>Used in the callback configuration structures (<a class="el" href="structpower__manager__callback__user__config__t.html" title="callback configuration structure ">power_manager_callback_user_config_t</a>) to specify when the registered callback will be called during power mode change initiated by <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a>.</p>
<p>Implements power_manager_callback_type_t_Class </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga63bea534f09850d600e1bce7f76dcd1bae483dcc0af3d153663de57a6c95c8703"></a>POWER_MANAGER_CALLBACK_BEFORE&#160;</td><td class="fielddoc">
<p>Before callback. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga63bea534f09850d600e1bce7f76dcd1ba88e55317b173978beac7a34beab4276b"></a>POWER_MANAGER_CALLBACK_AFTER&#160;</td><td class="fielddoc">
<p>After callback. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga63bea534f09850d600e1bce7f76dcd1ba3874b6d9558d4503fb8d4ddc861e9838"></a>POWER_MANAGER_CALLBACK_BEFORE_AFTER&#160;</td><td class="fielddoc">
<p>Before-After callback. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="power__manager_8h_source.html#l00103">103</a> of file <a class="el" href="power__manager_8h_source.html">power_manager.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga150eda9990d1b0b14efd77e91ddce899"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__power__manager.html#ga150eda9990d1b0b14efd77e91ddce899">power_manager_notify_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The PM notification type. Used to notify registered callbacks. Callback notifications can be invoked in following situations: </p>
<ul>
<li>before a power mode change (Callback return value can affect <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> execution. Refer to the <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> and power_manager_policy_t documentation).</li>
<li>after a successful change of the power mode.</li>
<li>after an unsuccessful attempt to switch power mode, in order to recover to a working state. Implements power_manager_notify_t_Class </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga150eda9990d1b0b14efd77e91ddce899ae0b48b801a356174ecc853c6d31da3ea"></a>POWER_MANAGER_NOTIFY_RECOVER&#160;</td><td class="fielddoc">
<p>Notify IP to recover to previous work state. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga150eda9990d1b0b14efd77e91ddce899a382efec09e5e8d0f9d2059c96d0b57eb"></a>POWER_MANAGER_NOTIFY_BEFORE&#160;</td><td class="fielddoc">
<p>Notify IP that the system will change the power setting. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga150eda9990d1b0b14efd77e91ddce899a7b71b4e39d3cf652d254180e7f1e6213"></a>POWER_MANAGER_NOTIFY_AFTER&#160;</td><td class="fielddoc">
<p>Notify IP that the system has changed to a new power setting. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="power__manager_8h_source.html#l00087">87</a> of file <a class="el" href="power__manager_8h_source.html">power_manager.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga557e8588368b90f97ba0a6fff173a447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__power__manager.html#ga557e8588368b90f97ba0a6fff173a447">power_manager_policy_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power manager policies. </p>
<p>Defines whether the mode switch initiated by the <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> is agreed upon (depending on the result of notification callbacks), or forced. For POWER_MANAGER_POLICY_FORCIBLE the power mode is changed regardless of the callback results, while for POWER_MANAGER_POLICY_AGREEMENT policy any error code returned by one of the callbacks aborts the mode change. See also <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> description. Implements power_manager_policy_t_Class </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga557e8588368b90f97ba0a6fff173a447a9cc001b4b0a7f1a22e30ba9088222ffb"></a>POWER_MANAGER_POLICY_AGREEMENT&#160;</td><td class="fielddoc">
<p>Power mode is changed if all of the callbacks return success. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga557e8588368b90f97ba0a6fff173a447a52a276adc5bc52ba5e3cfd84c2e4a29a"></a>POWER_MANAGER_POLICY_FORCIBLE&#160;</td><td class="fielddoc">
<p>Power mode is changed regardless of the result of callbacks. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="power__manager_8h_source.html#l00072">72</a> of file <a class="el" href="power__manager_8h_source.html">power_manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga6bbe25041555ebefe4356fad8967f8c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> POWER_SYS_Deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function deinitializes the Power manager. </p>
<dl class="section return"><dt>Returns</dt><dd>An error code or STATUS_SUCCESS. </dd></dl>

<p>Definition at line <a class="el" href="power__manager_8c_source.html#l00120">120</a> of file <a class="el" href="power__manager_8c_source.html">power_manager.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac245cfec6a01ec9b4489b2eb07deadca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__power__s32k1xx.html#ga307c693b6f883df898b9210262755d40">power_manager_modes_t</a> POWER_SYS_GetCurrentMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns currently running power mode. </p>
<p>This function reads hardware settings and returns currently running power mode.</p>
<dl class="section return"><dt>Returns</dt><dd>Currently used run power mode. </dd></dl>

<p>Definition at line <a class="el" href="power__manager___s32_k1xx_8c_source.html#l00218">218</a> of file <a class="el" href="power__manager___s32_k1xx_8c_source.html">power_manager_S32K1xx.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1098b7d274060d5732d51c3dfebe99b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpower__manager__callback__user__config__t.html">power_manager_callback_user_config_t</a>* POWER_SYS_GetErrorCallback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the callback configuration structure for the last failed notification. </p>
<p>This function returns a pointer to configuration structure of the last callback that failed during the power mode switch when <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> was called. If the last <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> call ended successfully, a NULL value is returned.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the callback configuration which returns error. </dd></dl>

<p>Definition at line <a class="el" href="power__manager_8c_source.html#l00218">218</a> of file <a class="el" href="power__manager_8c_source.html">power_manager.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1941964ad0c7ea423d3dabcf08e10c84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t POWER_SYS_GetErrorCallbackIndex </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the last failed notification callback. </p>
<p>This function returns the index of the last callback that failed during the power mode switch when <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> was called. The returned value represents the index in the array of registered callbacks. If the last <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> call ended successfully, a value equal to the number of registered callbacks is returned.</p>
<dl class="section return"><dt>Returns</dt><dd>Callback index of last failed callback or value equal to callbacks count. </dd></dl>

<p>Definition at line <a class="el" href="power__manager_8c_source.html#l00206">206</a> of file <a class="el" href="power__manager_8c_source.html">power_manager.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad87fea8bc9e1804540a3716635c21811"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> POWER_SYS_GetLastMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>powerModeIndexPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the last successfully set power mode. </p>
<p>This function returns index of power mode which was last set using <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a>. If the power mode was entered even though some of the registered callbacks denied the mode change, or if any of the callbacks invoked after the entering/restoring run mode failed, then the return code of this function has STATUS_ERROR value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">powerModeIndexPtr</td><td>Power mode which has been set represented as an index into array of power mode configurations passed to the <a class="el" href="group__power__manager.html#ga85f9813bd7b94c5a81d7f3c050960230" title="Power manager initialization for operation. ">POWER_SYS_Init()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or STATUS_SUCCESS. </dd></dl>

<p>Definition at line <a class="el" href="power__manager_8c_source.html#l00143">143</a> of file <a class="el" href="power__manager_8c_source.html">power_manager.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga24e986811cca0fc7bb49e50fbb5204ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> POWER_SYS_GetLastModeConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpower__manager__user__config__t.html">power_manager_user_config_t</a> **&#160;</td>
          <td class="paramname"><em>powerModePtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the user configuration structure of the last successfully set power mode. </p>
<p>This function returns a pointer to configuration structure which was last set using <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a>. If the current power mode was entered even though some of the registered callbacks denied the mode change, or if any of the callbacks invoked after the entering/restoring run mode failed, then the return code of this function has STATUS_ERROR value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">powerModePtr</td><td>Pointer to power mode configuration structure of the last set power mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or STATUS_SUCCESS. </dd></dl>

<p>Definition at line <a class="el" href="power__manager_8c_source.html#l00175">175</a> of file <a class="el" href="power__manager_8c_source.html">power_manager.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga85f9813bd7b94c5a81d7f3c050960230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> POWER_SYS_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpower__manager__user__config__t.html">power_manager_user_config_t</a> *(*)&#160;</td>
          <td class="paramname"><em>powerConfigsPtr</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>configsNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpower__manager__callback__user__config__t.html">power_manager_callback_user_config_t</a> *(*)&#160;</td>
          <td class="paramname"><em>callbacksPtr</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>callbacksNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power manager initialization for operation. </p>
<p>This function initializes the Power manager and its run-time state structure. Pointer to an array of Power mode configuration structures needs to be passed as a parameter along with a parameter specifying its size. At least one power mode configuration is required. Optionally, pointer to the array of predefined callbacks can be passed with its corresponding size parameter. For details about callbacks, refer to the <a class="el" href="structpower__manager__callback__user__config__t.html" title="callback configuration structure ">power_manager_callback_user_config_t</a>. As Power manager stores only pointers to arrays of these structures, they need to exist and be valid for the entire life cycle of Power manager.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">powerConfigsPtr</td><td>A pointer to an array of pointers to all power configurations which will be handled by Power manager. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">configsNumber</td><td>Number of power configurations. Size of powerConfigsPtr array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callbacksPtr</td><td>A pointer to an array of pointers to callback configurations. If there are no callbacks to register during Power manager initialization, use NULL value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callbacksNumber</td><td>Number of registered callbacks. Size of callbacksPtr array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or STATUS_SUCCESS. </dd></dl>

<p>Definition at line <a class="el" href="power__manager_8c_source.html#l00080">80</a> of file <a class="el" href="power__manager_8c_source.html">power_manager.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga80453a80475225741b47ed43d3e6c50e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status_8h.html#af9bff8ff1154a04a899276af806b8586">status_t</a> POWER_SYS_SetMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>powerModeIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__power__manager.html#ga557e8588368b90f97ba0a6fff173a447">power_manager_policy_t</a>&#160;</td>
          <td class="paramname"><em>policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function configures the power mode. </p>
<p>This function switches to one of the defined power modes. Requested mode number is passed as an input parameter. This function notifies all registered callback functions before the mode change (using POWER_MANAGER_CALLBACK_BEFORE set as callback type parameter), sets specific power options defined in the power mode configuration and enters the specified mode. In case of run modes (for example, Run, Very low power run, or High speed run), this function also invokes all registered callbacks after the mode change (using POWER_MANAGER_CALLBACK_AFTER). In case of sleep or deep sleep modes, if the requested mode is not exited through a reset, these notifications are sent after the core wakes up. Callbacks are invoked in the following order: All registered callbacks are notified ordered by index in the callbacks array (see callbacksPtr parameter of <a class="el" href="group__power__manager.html#ga85f9813bd7b94c5a81d7f3c050960230" title="Power manager initialization for operation. ">POWER_SYS_Init()</a>). The same order is used for before and after switch notifications. The notifications before the power mode switch can be used to obtain confirmation about the change from registered callbacks. If any registered callback denies the power mode change, further execution of this function depends on mode change policy: the mode change is either forced(POWER_MANAGER_POLICY_FORCIBLE) or aborted(POWER_MANAGER_POLICY_AGREEMENT). When mode change is forced, the results of the before switch notifications are ignored. If agreement is requested, in case any callback returns an error code then further before switch notifications are cancelled and all already notified callbacks are re-invoked with POWER_MANAGER_CALLBACK_AFTER set as callback type parameter. The index of the callback which returned error code during pre-switch notifications is stored and can be obtained by using <a class="el" href="group__power__manager.html#ga1098b7d274060d5732d51c3dfebe99b9" title="This function returns the callback configuration structure for the last failed notification. ">POWER_SYS_GetErrorCallback()</a>. Any error codes during callbacks re-invocation (recover phase) are ignored. <a class="el" href="group__power__manager.html#ga80453a80475225741b47ed43d3e6c50e" title="This function configures the power mode. ">POWER_SYS_SetMode()</a> returns an error code denoting the phase in which a callback failed. It is possible to enter any mode supported by the processor. Refer to the chip reference manual for the list of available power modes. If it is necessary to switch into an intermediate power mode prior to entering the requested mode (for example, when switching from Run into Very low power wait through Very low power run mode), then the intermediate mode is entered without invoking the callback mechanism.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">powerModeIndex</td><td>Requested power mode represented as an index into array of user-defined power mode configurations passed to the <a class="el" href="group__power__manager.html#ga85f9813bd7b94c5a81d7f3c050960230" title="Power manager initialization for operation. ">POWER_SYS_Init()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">policy</td><td>Transaction policy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or STATUS_SUCCESS. </dd></dl>

<p>Definition at line <a class="el" href="power__manager_8c_source.html#l00338">338</a> of file <a class="el" href="power__manager_8c_source.html">power_manager.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 8 2018 15:07:06 for S32 SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
